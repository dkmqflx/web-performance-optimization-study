## 1장. **블로그 사이트 최적화**

### 1.1 실습 내용 소개

- 실적으로 배우는 웹 성능 최적화 for React

- 실습내용

  - 이미지 사이즈 최적화

    - 이미지 사이즈가 너무 크면 서비스가 무거워지고
    - 이미지 사이즈가 너무 작으면 사용자가 저화질의 이미지를 보게 되서 불편함을 느낄 수 있다
    - 어떤 사이즈 이미지가 적절한지 배운다

  - Code Split

    - 코드를 분할 하는 것
    - 어떻게 해야 코드를 분할할 수 있는지
    - 언제 코드를 분할해야 하는지

  - 텍스트 압축

    - 어떤 페이지에 접속하게 되면 다양한 리소스를 다운 받게 된다
    - JS, CSS, HTML 등
    - 이런 리소스들을 다운 받기 전에, 미리 서버에서 압축해서 다운 받게 된다
    - 그러면 작은 사이즈로 서버에서 리소스를 다운 받을 수 있게 된다
    - 그렇게 웹 페이지는 빠르게 로드가 될 수 있다.
    - 이렇게 다운로드 받는 데이터 양을 줄여서 로딩 성능을 최적화 하는 것이다

  - → 위의 세가지는 로딩 성능 최적화
  - → 이렇게 세가지가 다운로드하는 데이터 양을 줄여서 로딩 성능을 최적화 하는 방법

  - Bottlenet 코드 최적화
    - 내가 어떤 서비스를 개발했는데 특정 자바스크립트 코드 때문에 서비스가 너무 느리게 로드 되고 실행이 되는 경우,
    - 그럴 때 어떤 코드가 무엇 때문인지 몰라서 해메게 되는 경우가 있는데
    - 그런 병목 현상을 일으키는 코드를 어떻게 찾아내고 어떻게 최적화 하는지를 배운다
    - → 아래는 렌더링 성능 최적화

  ***

  ### 1.2 분석 툴 소개 & 코드 다운로드

  - 크롬 Network 탭

    - 네트워크 리소스들의 상세한 정보를 알려준다

  - 크롬 Performance 탭

    - 웹 페이지가 동작할 때 실행되는 모든 작업들을 스크린샷, 그래프로 보여준다

  - 크롬 Audit 탭 (Light house)

    - 우리 서비스가 성능적으로 어느정도 수준인지를 알 수 있다
    - 점수를 매겨주고 그에대한 가이드라인도 알려준다

  - webpack-bundle-analyzer
    - 웹팩 라이브러리
    - 웹팩을 통해 번들링된 파일들이 어떤 코드를 갖고 있는지를 한눈에 보여주는 툴이다.

---

### 1.4 Audits 툴을 이용한 페이지 감사

- Audits(Light House)
  - 웹앱의 품질 개선을 위해 성능을 검사해주고 그 성능 향상을 위한 가이드를 제공해주는 도구
- Performance
  - 페이지의 성능을 나타내는 점수
- **OPPORTUNITIES, DIAGNOSTICS**
  - 웹 페이지의 문제점과 문제점을 해결하기 위한 가이드를 제시해준다.
  - **OPPORTUNITIES**
    - 리소스의 관점에서 가이드를 제공해준다
    - 즉, 로딩 성능 최적화와 연관이 있다
  - **DIAGNOSTICS**
    - 페이지의 실행 관점에서 가이드를 제공해준다
    - 즉, 렌더링 성능 최적화와 연관이 있다
    - 회색항목은 문제가 되는 것은 아니지만 한번 살펴볼 필요는 있다는 것
- **PASSED AUDITS**
  - 우리가 잘 적용한 항목을 의미한다.
- Runtime Setting

  - 우리가 검사할 때 사용한 환경을 요약해서 보여주는 표

- Q. 깃헙에서 클론한 같은 프로젝트인데도 결과가 다르게 나오는 이유가 무엇일까여

- A. 강의의 검사 결과와 직접 검사한 결과가 상이한 이유에 대해 질문을 주셨는데요, 말씀해주신 것 처럼 네트워크 및 CPU (또는 GPU) 등의 환경에 따라 검사 결과가 달라집니다.
  왜냐하면, 크롬에 달려있는 Lighthouse 는 결국 로컬 PC에서 검사를 진행하기 때문에 PC 환경에 영향을 받을 수 밖에 없기 때문입니다.
  추가적인 예를 들면, 아래와 같은 상황에서는 같은 페이지여도 다른 결과가 나올 수 있습니다.
  - CPU의 작업량에 여유가 있는 상태 vs CPU가 바쁘게 돌고 있는 상태(여러 프로그램을  띄워둔 상태)
  - 미국에 있는 서버 홈페이지를 한국의 사용자가 검사할 때 vs 미국의 사용자가 검사할 때
  - 웹서버에 트래픽이 많은 상황에서 검사를 했을 때 vs 트래픽이 없는 상황에서 검사를 했을 때
  - 그래서 검사 결과를 절대적인 지표로 삼기 보다는 하나의 가이드로 생각하시는게 좋습니다.
    또한, 필요에 따라 한 번이 아닌 여러번 검사를 돌려보는 것도 좋은 방법입니다.
    참고하실 수 있는 링크를 하나 남겨드리겠습니다.
    구글에서 정리한 "Lighthouse 결과의 변동성"에 대한 글입니다.
    [https://developers.google.com/web/tools/lighthouse/variability](https://developers.google.com/web/tools/lighthouse/variability)
